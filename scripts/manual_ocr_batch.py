#!/usr/bin/env python3
"""
μλ™ OCR λ°μ΄ν„°λ¥Ό λ°°μΉλ΅ μ…λ ¥λ°›μ•„ μ €μ¥ν•λ” μ¤ν¬λ¦½νΈ
"""

import json
from pathlib import Path

def add_ocr_data_batch(new_data_list):
    """μƒλ΅μ΄ OCR λ°μ΄ν„°λ“¤μ„ κΈ°μ΅΄ νμΌμ— μ¶”κ°€"""

    ocr_file = Path(__file__).parent.parent / "training_data" / "seat_arrangements_ocr.json"

    # κΈ°μ΅΄ λ°μ΄ν„° λ΅λ“
    with open(ocr_file, 'r', encoding='utf-8') as f:
        existing_data = json.load(f)

    # μƒ λ°μ΄ν„° μ¶”κ°€
    existing_data.extend(new_data_list)

    # μ €μ¥
    with open(ocr_file, 'w', encoding='utf-8') as f:
        json.dump(existing_data, f, ensure_ascii=False, indent=2)

    print(f"β… {len(new_data_list)}κ°μ μƒλ΅μ΄ λ°°μΉ λ°μ΄ν„° μ¶”κ°€ μ™„λ£")
    print(f"π“ μ΄ λ°μ΄ν„°: {len(existing_data)}κ°")


if __name__ == "__main__":
    # μ—¬κΈ°μ— OCR λ°μ΄ν„°λ¥Ό μ…λ ¥
    # μ•„λλ” μμ‹ λ°μ΄ν„°μ…λ‹λ‹¤. μ‹¤μ  λ°μ΄ν„°λ΅ κµμ²΄ν•μ„Έμ”.

    new_ocr_data = [
        # 1λ²: KakaoTalk_Photo_2025-11-15-00-01-56 029.jpeg
        {
            "filename": "KakaoTalk_Photo_2025-11-15-00-01-56 029.jpeg",
            "date": "2025-07-20",
            "service": "2λ¶€μλ°°",
            "anthem": "μ‹­μκ°€λ¥Ό μ§ μ μλ‚",
            "offering_hymn_leader": "λ―Όμν¬",
            "total": 84,
            "breakdown": {"μ†ν”„λΌλ…Έ": 34, "μ•ν† ": 23, "ν…λ„": 12, "λ² μ΄μ¤": 15},
            "rows": [
                {"row": 1, "count": 11, "members": ["ν™©λ΄‰μ‹", "κΉ€ν•™μ", "μ •ν„μ„", "μµμ°½μ΄", "ν™μμ€", "μ΄μΉκ· ", "μ„μ‚Όμ§„", "κΉ€μ² μ°", "ν•λ²”", "κΉ€νƒν›", "μ•ν•μ¤€"]},
                {"row": 2, "count": 13, "members": ["κ³ μ—°μ£Ό", "κΉ€μ§„ν¬", "μ¤μ‹ μ", "μ‹ λ‚λ", "κΉ€ν•λΉ›", "λ³€μ„±μ‹", "μµκ΄‘μ", "κΉ€μ°½λ™", "μ΄κ·λ½", "μ΄κ²½μ§„", "λ°•μ¬μ©", "λ¬ΈμΉν„", "μ΄μ›μ„­"]},
                {"row": 3, "count": 15, "members": ["κΉ€μ •μ™", "μ„μ‹ μ• ", "κΉ€μ§€μ", "μ΄μΉμ™", "μ„μ‹ μ• ", "μ •μ§„λ¬Έ", "κΉ€μƒλ©", "κ¶μΈμ", "κΉ€λ€μ", "λ‚¨μΉνΈ", "μ•μƒμ€", "κΉ€μ„±ν", "κΉ€μμ", "μ΄μ€μ£Ό", "μµμΉμ΄"]},
                {"row": 4, "count": 15, "members": ["ν„μ„±ν¬", "μ΄μ„ λ―Έ", "λ…Έμ€μ™", "μ΄μμ§€", "μ†κΈ°μ", "μ΄μ„ λ―Έ", "λ¬Έν¬", "μ¤μ—°λ¶„", "μµν•΄κ²½", "λ°±μ„±μ›", "κΉ€μμ •", "κΉ€μ΄μ •", "μ—Όλ™μ£Ό", "κΉ€μ¤ν¬", "κΉ€μ€μ"]},
                {"row": 5, "count": 15, "members": ["κΉ€μ§€ν", "λ°±ν•λ‚", "μ΄κ΄‘μ™", "μ„ν¬μ •", "κΉ€λ―Όμ‹", "μ‹ μμ •", "λ°©μ§„κ²½", "μ΄μλ€", "μ΄νμ—°", "μ΄μ¤μ¥", "μ–‘μ•„λ¦„", "λ³€μ†μ •", "μµμ—°ν¬", "κΉ€ν¬μ§„", "μµμ μ§„"]},
                {"row": 6, "count": 15, "members": ["μ΄μ€ν", "μ¶”λ―Όμ•„", "κΉ€μ†λΌ", "κΉ€λ¬Έν¬", "μ„ν„μ™", "κΉ€μ •ν¬", "κΉ€ν–¥μ™", "κΉ€νμ„ ", "μ‹¬ν¬μ™", "κΉ€μ†μ¥", "μ•μ€ν¬", "μ΄μƒλ―Έ", "μ΄μ§€μ", "μµλ…ν¬", "μ΄κ±΄μ"]}
            ]
        },
        # 2λ²: KakaoTalk_Photo_2025-11-15-00-01-56 030.jpeg
        {
            "filename": "KakaoTalk_Photo_2025-11-15-00-01-56 030.jpeg",
            "date": "2025-07-27",
            "service": "2λ¶€μλ°°",
            "anthem": "μ¤μ§ μ£Όλ§μ΄",
            "offering_hymn_leader": "μ΄μ‹ν„2",
            "total": 84,
            "breakdown": {"μ†ν”„λΌλ…Έ": 34, "μ•ν† ": 23, "ν…λ„": 12, "λ² μ΄μ¤": 15},
            "rows": [
                {"row": 1, "count": 13, "members": ["ν™©λ΄‰μ‹", "κΉ€ν•™μ", "κΉ€ν•λΉ›", "μ •ν„μ„", "λ°°μ‚¬λ¬΄μ—", "μµμ°½μ΄", "ν™μμ€", "μ΄μΉκ· ", "μ„μ‚Όμ§„", "κΉ€μ² μ°", "ν•λ²”", "κΉ€νƒν›", "μ•ν•μ¤€"]},
                {"row": 2, "count": 14, "members": ["κ³ μ—°μ£Ό", "κΉ€μ§„ν¬", "μ¤μ‹ μ", "κΉ€μ„±λ©", "μ •μ§„λ¬Έ", "κΉ€ν•λΉ›", "λ³€μ„±μ‹", "μµκ΄‘μ", "κΉ€μ°½λ™", "μ΄κ·λ½", "μ΄κ²½μ§„", "λ°•μ¬μ©", "λ¬ΈμΉν„", "μ΄μ›μ„­"]},
                {"row": 3, "count": 14, "members": ["κΉ€μ •μ™", "μ„μ‹ μ• ", "κΉ€μ§€μ", "μ‹ λ‚λ", "μ΄μΉμ™", "μ•κ°•ν„", "μ΄κ²½λ΄‰", "κ¶μΈμ", "κΉ€λ€μ", "λ‚¨μΉνΈ", "μ•μƒμ€", "κΉ€μ„±ν", "κΉ€μμ", "μµμΉμ΄"]},
                {"row": 4, "count": 15, "members": ["ν„μ„±ν¬", "μ΄μ„ λ―Έ", "μ„μ‹ μ• ", "μ΄μμ§€", "μ†κΈ°μ", "μ΄μ„ λ―Έ", "κΉ€μ€ν", "λ¬Έν¬", "μ¤μ—°λ¶„", "μµν•΄κ²½", "λ°±μ„±μ›", "κΉ€μμ •", "κΉ€μ΄μ •", "μ—Όλ™μ£Ό", "κΉ€μ€μ"]},
                {"row": 5, "count": 14, "members": ["μ΄κ΄‘μ™", "λ…Έμ€μ™", "μ΄λ¬Έν•", "κΉ€λ―Όμ‹", "μ„ν¬μ •", "μ‹ μμ •", "λ°©μ§„κ²½", "μ΄μλ€", "λ―Όμ€μ¥", "μ–‘μ•„λ¦„", "λ³€μ†μ •", "μµμ—°ν¬", "κΉ€ν¬μ§„", "μµμ μ§„"]},
                {"row": 6, "count": 15, "members": ["λ°±ν•λ‚", "κΉ€μ§€ν", "μ¶”λ―Όμ•„", "κΉ€μ†λΌ", "κΉ€λ¬Έν¬", "μ„ν„μ™", "κΉ€μ •ν¬", "κΉ€ν–¥μ™", "κ°•νμ„ ", "μ‹¬ν¬μ™", "κΉ€μ†μ¥", "μ΄μƒλ―Έ", "μ΄μ§€μ", "μµλ…ν¬", "μ΄κ±΄μ"]}
            ]
        }
    ]

    add_ocr_data_batch(new_ocr_data)
