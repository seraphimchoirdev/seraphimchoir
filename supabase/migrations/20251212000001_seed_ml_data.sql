-- Phase 4: JSON 학습 데이터를 DB로 시드
-- training_data/member_seat_preferences.json (103명) → member_seat_statistics
-- training_data/row_distribution_patterns.json (15개 패턴) → row_distribution_patterns

-- ============================================================
-- 1. member_seat_statistics 시드 데이터
-- ============================================================
-- 학습 기간: 2025-01-05 ~ 2025-11-09 (43회 예배, 3,577석)
-- 고정석 대원: 63명 (61.2%)

INSERT INTO member_seat_statistics (member_id, preferred_row, preferred_col, row_consistency, col_consistency, is_fixed_seat, total_appearances, row_counts, col_sum)
VALUES
  -- 1-10: 최다 출석 대원
  ('aafc7de7-11bd-4baa-ab60-6c3ad348de44', 1, 10, 98, 100, true, 44, '{"1": 43}', 440),
  ('e14ba908-f39d-4d3e-a57c-26244bd900c5', 2, 3, 95, 95, true, 44, '{"2": 42}', 132),
  ('8b20ec0d-d3c7-4da0-afda-9987a9eacd3b', 1, 3, 98, 98, true, 43, '{"1": 42}', 129),
  ('c9a92c9f-4df2-416e-821b-ae9eaac301dd', 2, 6, 98, 95, true, 43, '{"2": 42}', 258),
  ('9352769c-1efa-42f7-9ad7-fcf7e3acb645', 2, 8, 93, 95, true, 43, '{"2": 40}', 344),
  ('8a9a8fc0-b27d-42d0-b4d9-cf92c7384611', 3, 1, 98, 100, true, 43, '{"3": 42}', 43),
  ('d64140cf-224e-4417-b0ac-4071f727c59a', 2, 2, 56, 84, false, 43, '{"2": 24, "1": 10, "3": 9}', 86),
  ('211a621d-aaeb-4019-b036-f4ed0681a698', 3, 12, 47, 79, false, 43, '{"3": 20, "2": 12, "4": 11}', 516),
  ('143c3ea1-e209-419b-8263-8de870014833', 4, 3, 72, 88, false, 43, '{"4": 31, "3": 8, "5": 4}', 129),
  ('77af715f-ca5e-4309-be94-3d4e87ea3109', 6, 2, 98, 100, true, 43, '{"6": 42}', 86),

  -- 11-20
  ('91051cd8-191e-4b44-a947-b42e73153129', 6, 4, 98, 93, true, 43, '{"6": 42}', 172),
  ('b91dac44-55bc-48c5-b158-546c25c62dfc', 6, 6, 100, 98, true, 43, '{"6": 43}', 258),
  ('34c40bed-3457-4a6f-bd3a-b6b5ca284f19', 6, 9, 100, 100, true, 43, '{"6": 43}', 387),
  ('3f50ca7f-6873-4d60-b77d-0e80166ea0e8', 1, 6, 98, 100, true, 42, '{"1": 41}', 252),
  ('a82defbb-615d-4280-84fc-2793d7a81350', 1, 7, 98, 100, true, 42, '{"1": 41}', 294),
  ('23d9b1ea-729f-4890-b6a9-cb282ec12b67', 1, 8, 98, 93, true, 42, '{"1": 41}', 336),
  ('24586c3f-b507-4891-8f23-c00fd6b3ab0f', 1, 9, 98, 100, true, 42, '{"1": 41}', 378),
  ('c023a373-54a2-42a5-a5c2-35a539bb019e', 3, 7, 79, 86, false, 42, '{"3": 33, "2": 5, "4": 4}', 294),
  ('ed555475-fa3d-4fac-ab61-4cd2aae9ddc4', 3, 8, 79, 86, false, 42, '{"3": 33, "2": 5, "4": 4}', 336),
  ('bae7f08a-8d49-4cb1-9e7e-5339b4aa351e', 4, 13, 43, 98, false, 42, '{"4": 18, "3": 14, "2": 10}', 546),

  -- 21-30
  ('4976844a-319c-45f2-8701-d007b45ab337', 3, 3, 95, 93, true, 42, '{"3": 40}', 126),
  ('bed5894d-5b4e-451a-a0d8-39c5682d3f40', 4, 9, 95, 88, true, 42, '{"4": 40}', 378),
  ('c59a63b5-dfe9-4973-80cc-bae13a02fe3d', 5, 8, 86, 90, true, 42, '{"5": 36, "4": 6}', 336),
  ('7e628534-28aa-451d-b114-9fd00d1c34dc', 6, 7, 100, 98, true, 42, '{"6": 42}', 294),
  ('c95491d5-d146-4d3f-926d-a188949f560e', 5, 10, 76, 83, false, 42, '{"5": 32, "6": 6, "4": 4}', 420),
  ('0682bd16-ab1a-4fec-983a-ded1c3365365', 1, 1, 95, 100, true, 41, '{"1": 39}', 41),
  ('9fcc9951-2158-47c5-a833-df1a5ef0627e', 1, 4, 98, 100, true, 41, '{"1": 40}', 164),
  ('1bc52640-34d9-4f04-8924-35148be6a10c', 3, 3, 49, 95, false, 41, '{"3": 20, "2": 12, "4": 9}', 123),
  ('4cf7ff9d-9f77-4573-8463-91a2438965ad', 2, 7, 98, 98, true, 41, '{"2": 40}', 287),
  ('c25cbbfa-8e4d-4cce-8225-3f72365dd289', 3, 4, 88, 90, true, 41, '{"3": 36, "2": 5}', 164),

  -- 31-40
  ('c1195bdc-122f-42b9-8b79-15bdffe2c95b', 2, 12, 85, 98, true, 41, '{"2": 35, "3": 6}', 492),
  ('91be141f-82e6-4d17-8209-7b7f5d42b079', 4, 7, 95, 88, true, 41, '{"4": 39}', 287),
  ('902efc7c-4156-4cc7-a2b7-ac7980c87487', 3, 13, 90, 85, true, 41, '{"3": 37, "2": 4}', 533),
  ('d91e69e1-96da-491f-86f2-903e34e15ac6', 6, 1, 100, 100, true, 41, '{"6": 41}', 41),
  ('b07f5e8d-e92f-48c6-98af-8e8c47e13c20', 6, 8, 80, 98, true, 41, '{"6": 33, "5": 8}', 328),
  ('5263d52a-6607-49de-a2fa-c8bb33877bed', 1, 2, 93, 100, true, 40, '{"1": 37}', 80),
  ('373deb7c-fb31-4475-a230-d2bb913aa8b2', 1, 15, 98, 100, true, 40, '{"1": 39}', 600),
  ('30e839a2-45f1-4680-ad56-43e1994e09ee', 1, 12, 95, 100, true, 40, '{"1": 38}', 480),
  ('b428b5e2-96bc-43be-8057-5f563c1a6a4c', 4, 14, 48, 98, false, 40, '{"4": 19, "3": 13, "2": 8}', 560),
  ('bcbd596d-78d7-40e0-9522-cc65f2eaea1b', 5, 4, 53, 15, false, 40, '{"5": 21, "4": 10, "6": 9}', 160),

  -- 41-50
  ('a435a908-ff75-4a48-a292-fc37063a6084', 4, 15, 78, 98, false, 40, '{"4": 31, "3": 9}', 600),
  ('2a34976e-b300-46f8-8b30-a2f28c8745c0', 4, 10, 95, 88, true, 40, '{"4": 38}', 400),
  ('d147fff1-b04c-4f19-9714-3e25e19dea2a', 6, 11, 100, 100, true, 40, '{"6": 40}', 440),
  ('21fe177f-7d18-4841-be60-cf71d49f7230', 1, 4, 44, 100, false, 39, '{"1": 17, "2": 12, "3": 10}', 156),
  ('e09947c5-fb15-4b58-ab81-ca5ee44b3748', 1, 6, 79, 92, false, 39, '{"1": 31, "2": 8}', 234),
  ('a905189a-18ce-4b3c-aff0-c74f1926e52a', 1, 11, 92, 97, true, 39, '{"1": 36, "2": 3}', 429),
  ('1e5a9347-9cc1-4d67-9d08-10f2e851c3a7', 3, 6, 79, 95, false, 39, '{"3": 31, "2": 5, "4": 3}', 234),
  ('355ab732-17c8-42ea-9d96-9ae4cbbace16', 1, 12, 67, 95, false, 39, '{"1": 26, "2": 9, "3": 4}', 468),
  ('46e6b790-ae99-4f2c-b271-af71aa81cdb3', 4, 4, 49, 85, false, 39, '{"4": 19, "3": 11, "5": 9}', 156),
  ('f2295256-ece2-44e0-8101-f73d48e7f850', 2, 15, 79, 97, false, 39, '{"2": 31, "1": 5, "3": 3}', 585),

  -- 51-60
  ('cf592330-17aa-4dcf-b4bb-ec6486a2c803', 3, 9, 85, 90, true, 39, '{"3": 33, "2": 6}', 351),
  ('3b9a3c3c-9653-4374-a400-626187d06b05', 5, 11, 90, 97, true, 39, '{"5": 35, "4": 4}', 429),
  ('6ba6680a-fe5d-4e24-a7f0-a918c5fdca96', 1, 14, 97, 100, true, 38, '{"1": 37}', 532),
  ('338af00b-a855-4ab6-8eeb-bfd18a4e9363', 2, 13, 74, 97, false, 38, '{"2": 28, "1": 6, "3": 4}', 494),
  ('108cb6e4-756a-4842-8e01-9352942cd787', 4, 4, 58, 79, false, 38, '{"4": 22, "3": 10, "5": 6}', 152),
  ('5d06a005-b9bf-4351-b6dc-147d0121cdcd', 3, 11, 63, 71, false, 38, '{"3": 24, "2": 9, "4": 5}', 418),
  ('ae961512-6b5a-4509-a01a-1cc5237279b7', 4, 14, 47, 89, false, 38, '{"4": 18, "3": 12, "2": 8}', 532),
  ('0a43f610-5fe2-48ce-9d4b-5f4153252d3a', 3, 14, 82, 87, true, 38, '{"3": 31, "2": 7}', 532),
  ('d616cd1e-5361-43cd-8ed3-eb84624ace63', 5, 13, 97, 97, true, 38, '{"5": 37}', 494),
  ('d1de8297-09a2-4b3e-8b11-cbd8925dc12d', 5, 11, 71, 92, false, 38, '{"5": 27, "4": 7, "6": 4}', 418),

  -- 61-70
  ('115dd199-8cbc-4426-9729-dfeb66430b85', 4, 5, 61, 92, false, 38, '{"4": 23, "5": 10, "6": 5}', 190),
  ('ca4eef10-84dd-474f-b846-82a37c3eac51', 2, 10, 95, 97, true, 37, '{"2": 35}', 370),
  ('43d60188-705f-4b38-b00b-40b3a0ac65e4', 2, 13, 86, 97, true, 37, '{"2": 32, "3": 5}', 481),
  ('814e33ee-eb0c-4f40-8dc3-abf0b21cb879', 5, 4, 73, 95, false, 37, '{"5": 27, "4": 6, "6": 4}', 148),
  ('00b9c276-0b3b-49bd-819f-4dbdbefc8c23', 5, 2, 50, 86, false, 36, '{"5": 18, "4": 10, "6": 8}', 72),
  ('01dc2272-facb-4209-bd17-b259742b78a9', 6, 3, 100, 100, true, 36, '{"6": 36}', 108),
  ('6ff3eb37-475b-4f45-a67c-83dedef9766f', 6, 10, 100, 100, true, 36, '{"6": 36}', 360),
  ('68b17764-0422-4c1e-913f-e7b694a1ddc4', 3, 6, 97, 91, true, 35, '{"3": 34}', 210),
  ('23c3fc63-610a-427c-9add-6ed06b443bd2', 4, 2, 69, 86, false, 35, '{"4": 24, "3": 7, "5": 4}', 70),
  ('27ddae26-185e-4e45-9a76-5896926a5d67', 4, 5, 80, 89, true, 35, '{"4": 28, "5": 7}', 175),

  -- 71-80
  ('024c842b-0818-47eb-bdc6-c2dd4ddf5fcc', 5, 6, 97, 91, true, 35, '{"5": 34}', 210),
  ('ecd238b8-79dd-49a0-a8a0-e45a233c6c10', 2, 9, 100, 100, true, 34, '{"2": 34}', 306),
  ('96e9f64f-5701-48e6-8d1c-01383a1a7e82', 3, 12, 97, 94, true, 34, '{"3": 33}', 408),
  ('f9000126-918e-4a84-b5bb-119031d619e5', 4, 11, 91, 97, true, 34, '{"4": 31, "5": 3}', 374),
  ('5c0aa7aa-54d8-4f21-89bf-757667abb155', 6, 5, 70, 91, false, 33, '{"6": 23, "5": 7, "4": 3}', 165),
  ('c909690e-6f93-449b-8676-e1587014cd95', 2, 5, 97, 97, true, 33, '{"2": 32}', 165),
  ('03cd8319-62c3-4f1e-a056-6f3e8a17b2fa', 2, 4, 94, 100, true, 33, '{"2": 31, "1": 2}', 132),
  ('9abee5d5-86c7-4bc4-8379-e7e8b92c7439', 4, 4, 81, 81, true, 32, '{"4": 26, "5": 6}', 128),
  ('8cb110cd-c64d-453e-a798-970d2ffc53a4', 2, 2, 48, 94, false, 31, '{"2": 15, "1": 9, "3": 7}', 62),
  ('a51f5c43-4a1a-4e35-9a99-62e0aa370dac', 5, 5, 65, 100, false, 31, '{"5": 20, "4": 7, "6": 4}', 155),

  -- 81-90
  ('8eb5efae-4de1-41b3-bc94-dba54a4bbb7b', 5, 9, 94, 90, true, 31, '{"5": 29}', 279),
  ('913b9610-0c12-40bc-9f65-79d88cab7041', 3, 4, 63, 90, false, 30, '{"3": 19, "2": 7, "4": 4}', 120),
  ('ab152b8d-28ba-4586-b650-d564b09e75dd', 3, 11, 62, 100, false, 29, '{"3": 18, "2": 7, "4": 4}', 319),
  ('2dbd8064-5cf1-405e-b4d0-928ee6f1359a', 5, 2, 66, 100, false, 29, '{"5": 19, "4": 6, "6": 4}', 58),
  ('3452f38e-35dc-4f05-9327-011c8e9edb7f', 2, 3, 50, 93, false, 28, '{"2": 14, "1": 8, "3": 6}', 84),
  ('05a953d7-52dc-4838-9e55-f1e6360751d1', 3, 12, 50, 68, false, 28, '{"3": 14, "2": 9, "4": 5}', 336),
  ('6198380d-30ac-4f91-afb0-da8f71a933fe', 5, 2, 92, 88, true, 25, '{"5": 23}', 50),
  ('d4d66444-4e84-4a8a-a51b-2dc7c361a964', 3, 12, 60, 88, false, 25, '{"3": 15, "2": 6, "4": 4}', 300),
  ('20ca6ff9-0a3b-4a56-8830-37ae4ec2331b', 5, 4, 71, 88, false, 24, '{"5": 17, "4": 5, "6": 2}', 96),
  ('142c1173-784a-4c7a-92a8-7b8a2013f9c1', 4, 6, 91, 83, true, 23, '{"4": 21}', 138),

  -- 91-103
  ('2607cdd1-955f-4f03-938b-c23c9a4ec221', 5, 6, 100, 95, true, 22, '{"5": 22}', 132),
  ('5c969616-846f-4627-bf28-163c35d9730c', 4, 11, 95, 95, true, 21, '{"4": 20}', 231),
  ('aa2b788c-a38b-46b6-9945-8a97d021f2dd', 5, 9, 74, 89, false, 19, '{"5": 14, "4": 3, "6": 2}', 171),
  ('1eab806e-64f7-4edd-8fc6-67b0048b8c39', 4, 11, 89, 95, true, 19, '{"4": 17, "5": 2}', 209),
  ('c2b38a03-5853-4c22-93e8-4cda01083a41', 5, 3, 75, 88, false, 16, '{"5": 12, "4": 3, "6": 1}', 48),
  ('7fe9a6c5-b1fe-4c7d-b0ff-f7e048d05f6b', 3, 13, 88, 88, true, 16, '{"3": 14, "2": 2}', 208),
  ('0f6fe1fc-3818-4c3e-9d73-767bb1e638df', 6, 8, 100, 100, true, 13, '{"6": 13}', 104),
  ('57a7a1d4-15be-442f-9e43-94cf3f4cf499', 5, 12, 100, 100, true, 12, '{"5": 12}', 144),
  ('762b8a0e-1c82-4342-86c0-1cf86e4040f0', 2, 1, 90, 100, true, 10, '{"2": 9}', 10),
  ('ec7b9d91-689d-4c8c-84b0-4b6b3f3753f5', 4, 11, 60, 60, false, 5, '{"4": 3, "5": 2}', 55),
  ('a2526bcd-c7e7-4540-9edb-5334c38d9fa4', 5, 9, 100, 100, true, 4, '{"5": 4}', 36),
  ('11ea7452-c905-4aed-be61-827adca539c2', 5, 1, 100, 100, true, 3, '{"5": 3}', 3)
ON CONFLICT (member_id) DO UPDATE SET
  preferred_row = EXCLUDED.preferred_row,
  preferred_col = EXCLUDED.preferred_col,
  row_consistency = EXCLUDED.row_consistency,
  col_consistency = EXCLUDED.col_consistency,
  is_fixed_seat = EXCLUDED.is_fixed_seat,
  total_appearances = EXCLUDED.total_appearances,
  row_counts = EXCLUDED.row_counts,
  col_sum = EXCLUDED.col_sum,
  updated_at = now();

-- ============================================================
-- 2. row_distribution_patterns 시드 데이터
-- ============================================================
-- 학습된 인원수별 행 분배 패턴 (68-90명 범위)

INSERT INTO row_distribution_patterns (total_members, rows, capacities, observations)
VALUES
  (68, 6, ARRAY[12, 12, 13, 12, 10, 9], 1),
  (76, 6, ARRAY[14, 13, 14, 13, 12, 10], 1),
  (78, 6, ARRAY[14, 14, 15, 14, 11, 10], 1),
  (79, 6, ARRAY[14, 15, 14, 14, 12, 10], 4),
  (80, 6, ARRAY[14, 14, 15, 14, 12, 11], 2),
  (81, 6, ARRAY[14, 15, 15, 14, 12, 11], 3),
  (82, 6, ARRAY[15, 15, 15, 14, 12, 11], 3),
  (83, 6, ARRAY[15, 15, 15, 14, 13, 11], 6),
  (84, 6, ARRAY[15, 15, 15, 15, 13, 11], 7),
  (85, 6, ARRAY[14, 15, 16, 14, 14, 12], 4),
  (86, 6, ARRAY[15, 16, 16, 15, 13, 11], 3),
  (87, 6, ARRAY[16, 16, 16, 15, 13, 11], 1),
  (88, 6, ARRAY[16, 16, 16, 15, 13, 12], 5),
  (89, 6, ARRAY[15, 16, 17, 16, 14, 11], 1),
  (90, 6, ARRAY[16, 16, 16, 16, 14, 12], 1)
ON CONFLICT (total_members) DO UPDATE SET
  rows = EXCLUDED.rows,
  capacities = EXCLUDED.capacities,
  observations = row_distribution_patterns.observations + EXCLUDED.observations,
  last_updated_at = now();

-- ============================================================
-- 시드 데이터 통계 확인용 뷰
-- ============================================================

-- 고정석 대원 수 확인
COMMENT ON TABLE member_seat_statistics IS
  '시드 완료: 103명 대원, 63명(61.2%) 고정석';

-- 행 분배 패턴 확인
COMMENT ON TABLE row_distribution_patterns IS
  '시드 완료: 15개 패턴 (68-90명 범위)';
